<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E5 - CRUD Completo de Usuarios</title>
    <link rel="stylesheet" href="styles-e5.css">
</head>

<body>
    <div class="container">
        <header>
            <h1>ğŸ”„ CRUD Completo de Usuarios</h1>
            <p class="subtitle">GestiÃ³n completa con JSONBin.io y Random User API</p>
        </header>

        <!-- Panel de Control -->
        <div class="control-panel">
            <div class="bin-status">
                <button id="config-button" class="btn-config">âš™ï¸ Configurar JSONBin</button>
                <button id="new-bin" class="btn-info">ğŸ†• Nuevo Bin</button>
                <button id="clear-config" class="btn-secondary">ğŸ—‘ï¸ Limpiar Config</button>
            </div>
            <div class="actions">
                <button id="fetch-users" class="btn-primary">ğŸ‘¥ Obtener 10 Usuarios</button>
                <button id="load-users" class="btn-success">ğŸ“¥ Cargar desde JSONBin</button>
                <button id="save-users" class="btn-warning">ğŸ’¾ Guardar en JSONBin</button>
            </div>
        </div>

        <!-- Formulario para Agregar/Editar -->
        <div class="form-section">
            <h3 id="form-title">â• Agregar Nuevo Usuario</h3>
            <form id="user-form" class="user-form">
                <input type="hidden" id="edit-index" value="">
                <div class="form-row">
                    <div class="form-group">
                        <label for="user-name">ğŸ‘¤ Nombre:</label>
                        <input type="text" id="user-name" required>
                    </div>
                    <div class="form-group">
                        <label for="user-age">ğŸ‚ Edad:</label>
                        <input type="number" id="user-age" min="1" max="120" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="user-email">ğŸ“§ Email:</label>
                        <input type="email" id="user-email" required>
                    </div>
                    <div class="form-group">
                        <label for="user-site">ğŸŒ Sitio:</label>
                        <input type="url" id="user-site">
                    </div>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn-primary">ğŸ’¾ Guardar Usuario</button>
                    <button type="button" id="cancel-edit" class="btn-secondary" style="display:none;">âŒ
                        Cancelar</button>
                </div>
            </form>
        </div>

        <!-- Lista de Usuarios -->
        <div class="users-section">
            <div class="section-header">
                <h3>ğŸ‘¥ Lista de Usuarios</h3>
                <div class="stats">
                    <span id="total-users">Total: 0</span>
                </div>
            </div>
            <div id="users-container" class="users-grid">
                <div class="no-users">
                    <p>ğŸ” No hay usuarios cargados</p>
                    <p>ObtÃ©n usuarios de la API o carga desde JSONBin</p>
                </div>
            </div>
        </div>

        <!-- Modal de ConfiguraciÃ³n -->
        <div id="config-modal" class="modal">
            <div class="modal-content">
                <h3>âš™ï¸ Configurar JSONBin.io</h3>
                <form id="config-form">
                    <div class="form-group">
                        <label for="master-key">ğŸ”‘ Master Key (obligatorio):</label>
                        <input type="password" id="master-key" placeholder="$2a$10$..." required>
                        <small>ObtÃ©n tu Master Key en <a href="https://jsonbin.io/account/keys"
                                target="_blank">jsonbin.io/account/keys</a></small>
                    </div>
                    <div class="form-group">
                        <label for="bin-id">ğŸ—‚ï¸ Bin ID (opcional):</label>
                        <input type="text" id="bin-id" placeholder="Si tienes un Bin existente...">
                        <small>DÃ©jalo vacÃ­o para crear un nuevo Bin automÃ¡ticamente</small>
                    </div>
                    <div class="modal-actions">
                        <button type="submit" class="btn-primary">ğŸ’¾ Guardar ConfiguraciÃ³n</button>
                        <button type="button" id="cancel-config" class="btn-secondary">âŒ Cancelar</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Modal de ConfirmaciÃ³n -->
        <div id="confirm-modal" class="modal">
            <div class="modal-content">
                <h3>â“ Confirmar AcciÃ³n</h3>
                <p id="confirm-message"></p>
                <div class="modal-actions">
                    <button id="confirm-yes" class="btn-danger">âœ… SÃ­</button>
                    <button id="confirm-no" class="btn-secondary">âŒ No</button>
                </div>
            </div>
        </div>

        <!-- Log de Operaciones -->
        <div class="log-section">
            <h3>ğŸ“‹ Log de Operaciones</h3>
            <div id="log-container" class="log-container">
                <div class="log-entry">
                    <span class="timestamp">ğŸ• Iniciado</span>
                    <span class="message">AplicaciÃ³n lista para usar</span>
                </div>
            </div>
        </div>
    </div>
    <script src="script-e5.js"></script>
</body>

</html>